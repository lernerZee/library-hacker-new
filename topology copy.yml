name: web-to-db-pivot-lab

hosts:
  - name: attacker
    base_box:
      image: kali
      man_user: debian
    flavor: standard.small

  - name: web-server
    base_box:
      image: ubuntu-22.04
      man_user: ubuntu
    flavor: standard.small

  - name: db-server
    base_box:
      image: ubuntu-22.04
      man_user: ubuntu
    flavor: standard.small
    hidden: True

routers:
  - name: router
    base_box:
      image: debian-12-x86_64
      man_user: debian
    flavor: standard.small

networks:
  - name: public-net
    cidr: 10.10.10.0/24

  - name: internal-net
    cidr: 10.20.20.0/24
    accessible_by_user: False

net_mappings:
  - host: attacker
    network: public-net
    ip: 10.10.10.5

  - host: web-server
    network: public-net
    ip: 10.10.10.10

  - host: db-server
    network: internal-net
    ip: 10.20.20.15

router_mappings:
  - router: router
    network: public-net
    ip: 10.10.10.1
  - router: router
    network: internal-net
    ip: 10.20.20.1

groups: []
